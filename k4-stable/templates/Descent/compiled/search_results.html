<div align="right">
<table cellpadding="0" cellspacing="1" border="0" class="pagination">
	<tr>
		<td class="pagination"><?php echo $template["L_PAGE"]; ?></td>
		<?php $limit = !isset($_GET['limit']) ? $template['postlimit'] : intval($_GET['limit']); ?>
<?php $before = 3; ?>
<?php $after = 3; ?>
<?php $id = intval(@$_GET['id']); ?>
<?php $start = intval(@$_GET['start']); ?>
<?php $php_self = $_SERVER['PHP_SELF']; ?>
<?php if ($template->search_results && $template->obj0 = $template->search_results && ($template['total_posts'] > $limit)): ?>
<?php $pages = ceil($template['total_posts'] / $limit); ?>
<?php if($pages > 1): ?>

			<?php $extra = NULL; $url = new Url($php_self); $get = explode(";", 'act;'); foreach($get as $key) { if($key != '') { $url[$key] = $_GET[$key]; } } ?>
<?php echo '<td class="alt3"><a href="'.$url->__toString().'&start=0&limit='.$limit.$extra.'" class="minitext">'; ?>
«<?php echo '</a></td>'; ?>

			<?php $prev_start = (($start-$limit) != 0 && ($start-$limit) > 0) ? ($start-$limit) : 0; ?>
<?php echo '<td class="alt3"><a href="'.$url->__toString().'&start='.$prev_start.'&limit='.$limit.$extra.'" class="minitext">'; ?><<?php echo '</a></td>'; ?>
			<?php $page_start = ((($start/$limit)-$before) < 0) ? 0 : (($start/$limit)-$before); ?>
<?php $page_end = ((($start/$limit)+($after+1)) > $pages) ? $pages : (($start/$limit)+($after+1)); ?>
<?php for($i=$page_start;$i<$page_end;$i++): ?>
<?php if((($limit*($i+1))-$limit) == $start): ?>
<?php echo '<td class="alt2"><a href="'.$url->__toString().'&start='.($i*$limit).'&limit='.$limit.$extra.'" class="minitext"><strong>'.($i+1).'</strong></a></td>'; if(($i+1) != $page_end): echo ''; endif; ?>
<?php else: echo '<td class="alt2"><a href="'.$url->__toString().'&start='.($i*$limit).'&limit='.$limit.$extra.'" class="minitext">'.($i+1).'</a></td>'; if(($i+1) != $page_end): echo '';  endif; ?>
<?php endif; endfor; ?>

			<?php $next_start = (($start+$limit) < (($pages*$limit)-$limit)) ? ($start+$limit) : (($pages*$limit)-$limit); ?>
<?php echo '<td class="alt3"><a href="'.$url->__toString().'&start='.$next_start.'&limit='.$limit.$extra.'" class="minitext">'; ?>
><?php echo '</a></td>'; ?>
			<?php echo '<td class="alt3"><a href="'.$url->__toString().'&start='.(($pages*$limit)-$limit).'&limit='.$limit.$extra.'" class="minitext">'; ?>
»<?php echo '</a></td>'; ?>
		<?php else: echo '<td class="alt2">1</td>'; endif; else: echo '<td class="alt2">1</td>'; endif; ?>
	</tr>
</table>
</div>
<div class="forum_content">
<table width="100%" cellpadding="0" cellspacing="1" border="0">
	<tr class="tcat">
		<td colspan="8">
			<strong><?php echo $template["L_SEARCHRESULTS"]; ?>:</strong> <?php echo $template["search_terms"]; ?>
		</td>
	</tr>
	<tr class="thead">
		<td colspan="2"> </td>
		<td align="center" class="minitext"><?php echo $template["L_THREADS"]; ?></td>
		<td align="center" class="minitext"><?php echo $template["L_REPLIES"]; ?></td>
		<td align="center" class="minitext"><?php echo $template["L_AUTHOR"]; ?></td>
		<td align="center" class="minitext"><?php echo $template["L_VIEWS"]; ?></td>
		<td align="center" class="minitext"><?php echo $template["L_LASTPOST"]; ?></td>
		<td align="center" class="minitext"><?php echo $template["L_FORUM"]; ?></td>
	</tr>
<?php if ($template->search_results != NULL): ?>
<?php $search_results = new CachingIterator(get_iterator($template->search_results));  foreach($search_results as $obj6):  $template->Push($obj6); ?>
	<?php if ($template->search_results && method_exists($template->search_results, 'GetChildren') && $template->obj7 = $template->search_results->GetChildren()): ?>
	<?php $obj7 = new CachingIterator(get_iterator($template->obj7));  foreach($obj7 as $obj8):  $template->Push($obj8); ?>
	<tr class="panel">
		<td> </td>
		<td><img src="Images/<?php echo $template["IMG_DIR"]; ?>/Icons/PostIcons/<?php echo $template["icon"]; ?>" alt="" /></td>
		<td width="50%"><span class="smalltext"><a href="viewthread.php?id=<?php echo $template["id"]; ?>"><?php echo $template["name"]; ?></a></span></td>
		<td align="center" class="alt1"><?php echo $template["num_children"]; ?></td>
		<td align="center" class="alt2"><a href="member.php?id=<?php echo $template["poster_id"]; ?>"><strong><?php echo $template["poster_name"]; ?></strong></a></td>
		<td align="center" class="alt1"><?php echo $template["views"]; ?></td>
		<td align="center" class="alt2" nowrap="nowrap"><span class="minitext"><?php echo $template["last_reply"]; ?><br /><?php echo $template["L_BY"]; ?> <a href="member.php?id=<?php echo $template["reply_uid"]; ?>" style="text-decoration: underline;"><?php echo $template["reply_uname"]; ?></a></span></td>
		<td align="center" class="alt1"><span class="minitext"><a href="viewforum.php?id=<?php echo $template["forum_id"]; ?>"><strong><?php echo $template["forum_name"]; ?></strong></a></span></td>
	</tr>
	<?php $template->Pop();  endforeach; ?>
	<?php endif; ?>
<?php $template->Pop();  endforeach; ?>
<?php endif; ?>
</table>
</div>
<div align="right">
<table cellpadding="0" cellspacing="1" border="0" class="pagination">
	<tr>
		<td class="pagination"><?php echo $template["L_PAGE"]; ?></td>
		<?php $limit = !isset($_GET['limit']) ? $template['postlimit'] : intval($_GET['limit']); ?>
<?php $before = 3; ?>
<?php $after = 3; ?>
<?php $id = intval(@$_GET['id']); ?>
<?php $start = intval(@$_GET['start']); ?>
<?php $php_self = $_SERVER['PHP_SELF']; ?>
<?php if ($template->search_results && $template->obj9 = $template->search_results && ($template['total_posts'] > $limit)): ?>
<?php $pages = ceil($template['total_posts'] / $limit); ?>
<?php if($pages > 1): ?>

			<?php $extra = NULL; $url = new Url($php_self); $get = explode(";", 'act;'); foreach($get as $key) { if($key != '') { $url[$key] = $_GET[$key]; } } ?>
<?php echo '<td class="alt3"><a href="'.$url->__toString().'&start=0&limit='.$limit.$extra.'" class="minitext">'; ?>
«<?php echo '</a></td>'; ?>

			<?php $prev_start = (($start-$limit) != 0 && ($start-$limit) > 0) ? ($start-$limit) : 0; ?>
<?php echo '<td class="alt3"><a href="'.$url->__toString().'&start='.$prev_start.'&limit='.$limit.$extra.'" class="minitext">'; ?><<?php echo '</a></td>'; ?>
			<?php $page_start = ((($start/$limit)-$before) < 0) ? 0 : (($start/$limit)-$before); ?>
<?php $page_end = ((($start/$limit)+($after+1)) > $pages) ? $pages : (($start/$limit)+($after+1)); ?>
<?php for($i=$page_start;$i<$page_end;$i++): ?>
<?php if((($limit*($i+1))-$limit) == $start): ?>
<?php echo '<td class="alt2"><a href="'.$url->__toString().'&start='.($i*$limit).'&limit='.$limit.$extra.'" class="minitext"><strong>'.($i+1).'</strong></a></td>'; if(($i+1) != $page_end): echo ''; endif; ?>
<?php else: echo '<td class="alt2"><a href="'.$url->__toString().'&start='.($i*$limit).'&limit='.$limit.$extra.'" class="minitext">'.($i+1).'</a></td>'; if(($i+1) != $page_end): echo '';  endif; ?>
<?php endif; endfor; ?>

			<?php $next_start = (($start+$limit) < (($pages*$limit)-$limit)) ? ($start+$limit) : (($pages*$limit)-$limit); ?>
<?php echo '<td class="alt3"><a href="'.$url->__toString().'&start='.$next_start.'&limit='.$limit.$extra.'" class="minitext">'; ?>
><?php echo '</a></td>'; ?>
			<?php echo '<td class="alt3"><a href="'.$url->__toString().'&start='.(($pages*$limit)-$limit).'&limit='.$limit.$extra.'" class="minitext">'; ?>
»<?php echo '</a></td>'; ?>
		<?php else: echo '<td class="alt2">1</td>'; endif; else: echo '<td class="alt2">1</td>'; endif; ?>
	</tr>
</table>
</div>