CREATE TABLE k4_settinggroup (
	id		INTEGER			UNSIGNED,
	title		VARCHAR(100) NOT NULL,
	displayorder	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	PRIMARY KEY (id)
);
CREATE TABLE k4_setting (
	settingid	INTEGER			UNSIGNED,
	settinggroupid	INT UNSIGNED NOT NULL DEFAULT 0,
	title		VARCHAR(100) NOT NULL,
	varname		VARCHAR(100) NOT NULL,
	value		MEDIUMTEXT NOT NULL,
	description	MEDIUMTEXT NOT NULL,
	optioncode	MEDIUMTEXT NOT NULL DEFAULT 'text',
	displayorder	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	PRIMARY KEY (settingid)
);
CREATE TABLE k4_users (
	id		INTEGER			UNSIGNED,
	name		VARCHAR(20)		NOT NULL DEFAULT '',
	email		VARCHAR(255)		NOT NULL DEFAULT '',
	pass		VARCHAR(32)		NOT NULL DEFAULT '',
	priv_key	VARCHAR(32)		NOT NULL DEFAULT '',
	created		INT			UNSIGNED NOT NULL DEFAULT 0,
	login		INT			UNSIGNED NOT NULL DEFAULT 0,
	seen		INT			UNSIGNED NOT NULL DEFAULT 0,
	last_seen	INT			UNSIGNED NOT NULL DEFAULT 0,
	posts		INT			UNSIGNED NOT NULL DEFAULT 0,
	perms		INT			UNSIGNED NOT NULL DEFAULT 2,
	rank		VARCHAR(255)		NOT NULL DEFAULT '',
	banned		INT			UNSIGNED NOT NULL DEFAULT 0,
	invisible	INT			UNSIGNED NOT NULL DEFAULT 0,
	thread_display	INT			UNSIGNED NOT NULL DEFAULT 0,
	
	karma		INT			UNSIGNED NOT NULL DEFAULT 0,

	language	VARCHAR(20)		NOT NULL DEFAULT 'english',
	styleset	INT			UNSIGNED NOT NULL DEFAULT 1,
	imgset		VARCHAR(100)		NOT NULL DEFAULT 'Descent',
	tplset		VARCHAR(100)		NOT NULL DEFAULT 'Descent',
	
	avatar		INT			UNSIGNED NOT NULL DEFAULT 0,
	signature	VARCHAR(255)		NOT NULL DEFAULT '',
	birthday	INT			UNSIGNED NOT NULL DEFAULT 0,
	homepage	VARCHAR(255)		NOT NULL DEFAULT '',

	icq		VARCHAR(100)		NOT NULL DEFAULT '',
	aim		VARCHAR(100)		NOT NULL DEFAULT '',
	msn		VARCHAR(100)		NOT NULL DEFAULT '',
	yahoo		VARCHAR(100)		NOT NULL DEFAULT '',

	location	VARCHAR(100)		NOT NULL DEFAULT '',
	occupation	VARCHAR(100)		NOT NULL DEFAULT '',
	interests	VARCHAR(100)		NOT NULL DEFAULT '',
	biography	VARCHAR(255)		NOT NULL DEFAULT '',

	timezone	INT			UNSIGNED NOT NULL DEFAULT 0,

	PRIMARY KEY(id),
	UNIQUE(name)
);
CREATE TABLE k4_sessions (
	id		VARCHAR(32) NOT NULL DEFAULT '',
	seen		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	last_seen	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	data		TEXT,
	name		VARCHAR(16) NOT NULL DEFAULT '',
	uid		INTEGER	UNSIGNED NOT NULL DEFAULT 0,
	PRIMARY KEY(id)
);
CREATE TABLE k4_forums (
	id		INTEGER UNSIGNED,
	parent_id	INTEGER	UNSIGNED NOT NULL DEFAULT 0,
	row_left	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	row_right	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	row_level	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	f_order		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	subforums	INTEGER UNSIGNED NOT NULL DEFAULT 0,

	is_tracker	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	is_link		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	referals	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	link_href	VARCHAR(255)	NOT NULL DEFAULT '',
	
	closeforums	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	closedmessage	VARCHAR(255) NOT NULL DEFAULT '',
	suspend		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	row_lock	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	private		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	hidden		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	min_perms	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	usegroup	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	pass		VARCHAR(32) NOT NULL DEFAULT '',
	
	name		VARCHAR(255) NOT NULL DEFAULT '',
	description	VARCHAR(255) NOT NULL DEFAULT '',
	threads		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	posts		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	thread_created	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	thread_name	VARCHAR(32) NOT NULL DEFAULT '',
	thread_uname	VARCHAR(16) NOT NULL DEFAULT '',
	thread_id	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	thread_uid	INTEGER UNSIGNED NOT NULL DEFAULT 0,

	threadsperpage	INTEGER UNSIGNED NOT NULL DEFAULT 50,
	postsperpage	INTEGER UNSIGNED NOT NULL DEFAULT 9,
	templateset	INTEGER UNSIGNED NOT NULL DEFAULT 1,
	styleset	INTEGER UNSIGNED NOT NULL DEFAULT 1,
	defaultlang	INTEGER UNSIGNED NOT NULL DEFAULT 1,
	maxpolloptions	INTEGER UNSIGNED NOT NULL DEFAULT 13,
	allowavatars	INTEGER UNSIGNED NOT NULL DEFAULT 1,
	allowsignatures	INTEGER UNSIGNED NOT NULL DEFAULT 1,
	allowhtml	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	allowedhtml	VARCHAR(255) NOT NULL DEFAULT 'br, a, pre, ul, li, ol, p',
	allowbbcode	INTEGER UNSIGNED NOT NULL DEFAULT 1,
	allowsmilies	INTEGER UNSIGNED NOT NULL DEFAULT 1,
	allowposticons	INTEGER UNSIGNED NOT NULL DEFAULT 1,
	
	can_view	INTEGER UNSIGNED NOT NULL DEFAULT 1,
	can_read	INTEGER UNSIGNED NOT NULL DEFAULT 1,
	can_post	INTEGER UNSIGNED NOT NULL DEFAULT 2,
	can_reply	INTEGER UNSIGNED NOT NULL DEFAULT 2,
	can_edit	INTEGER UNSIGNED NOT NULL DEFAULT 8,
	can_delete	INTEGER UNSIGNED NOT NULL DEFAULT 16,
	can_sticky	INTEGER UNSIGNED NOT NULL DEFAULT 8,
	can_announce	INTEGER UNSIGNED NOT NULL DEFAULT 16,
	can_vote	INTEGER UNSIGNED NOT NULL DEFAULT 2,
	can_pollcreate	INTEGER UNSIGNED NOT NULL DEFAULT 2,
	can_attach	INTEGER UNSIGNED NOT NULL DEFAULT 2,

	forum_rules	TEXT,

	PRIMARY KEY(id)

);
CREATE TABLE k4_posts (
	id		INTEGER UNSIGNED,
	parent_id	INTEGER	UNSIGNED NOT NULL DEFAULT 0,
	category_id	INTEGER	UNSIGNED NOT NULL DEFAULT 0,
	forum_id	INTEGER	UNSIGNED NOT NULL DEFAULT 0,
	poll_id		INTEGER	UNSIGNED NOT NULL DEFAULT 0,
	row_left	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	row_right	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	row_level	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	created		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	
	edited		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	rating		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	num_votes	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	num_rates	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	disable_html	INTEGER UNSIGNED NOT NULL DEFAULT 1,
	disable_bbcode	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	disable_smilies	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	disable_sig	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	disable_areply	INTEGER UNSIGNED NOT NULL DEFAULT 1,
	disable_aurls	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	
	name		VARCHAR(255) NOT NULL DEFAULT '',
	row_status	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	row_locked	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	poll_question	VARCHAR(255) NOT NULL DEFAULT '',
	description	VARCHAR(255) NOT NULL DEFAULT '',
	body_text	TEXT,
	poster_name	VARCHAR(16) NOT NULL DEFAULT '',
	poster_id	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	last_reply	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	reply_uname	VARCHAR(16) NOT NULL DEFAULT '',
	reply_id	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	reply_uid	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	views		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	row_type	INTEGER UNSIGNED NOT NULL DEFAULT 1,
	attach		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	poll		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	icon		VARCHAR(100) NOT NULL DEFAULT 'clear.gif',

	PRIMARY KEY(id)
);
CREATE TABLE k4_polloptions (
	id		INTEGER UNSIGNED,
	poll_id		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	name		VARCHAR(255) NOT NULL DEFAULT '',
	color	 	VARCHAR(24) NOT NULL DEFAULT '',
	
	PRIMARY KEY(id)	
);
CREATE TABLE k4_pollvotes (
	id		INTEGER UNSIGNED,
	poll_id		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	option_id 	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	user_id 	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	
	PRIMARY KEY(id)	
);
CREATE TABLE k4_ratings (
	user_id		INTEGER UNSIGNED,
	thread_id	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	rating		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	use_me		INTEGER UNSIGNED NOT NULL DEFAULT 1
);
CREATE TABLE k4_usergroups (
	id			INTEGER UNSIGNED,
	name			VARCHAR(255) NOT NULL DEFAULT '',
	description		VARCHAR(255) NOT NULL DEFAULT '',
	mod_name		VARCHAR(16) NOT NULL DEFAULT '',
	mod_id			INTEGER UNSIGNED NOT NULL DEFAULT 0,
	created			INTEGER UNSIGNED NOT NULL DEFAULT 0,
	permissions		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	row_type		INTEGER UNSIGNED NOT NULL DEFAULT 0,

	cancontrolpanel		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	canmodifyprofile	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	canviewmembers		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	canview			INTEGER UNSIGNED NOT NULL DEFAULT 1,
	cansearch		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	canemail		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	canpostnew		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	canmove			INTEGER UNSIGNED NOT NULL DEFAULT 0,
	canopenclose		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	canreplyown		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	canreplyothers		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	canviewothers		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	caneditpost		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	canusepm		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	canpostpoll		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	canvote			INTEGER UNSIGNED NOT NULL DEFAULT 0,
	canpostattachment	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	canpublicevent		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	canpublicedit		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	canthreadrate		INTEGER UNSIGNED NOT NULL DEFAULT 1,

	PRIMARY KEY(id)
);
CREATE TABLE k4_users_in_groups (
	group_id	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	is_mod		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	id		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	name		VARCHAR(16) NOT NULL DEFAULT ''
);
CREATE TABLE k4_badword_filter (
	id		INTEGER UNSIGNED,
	word		VARCHAR(100) NOT NULL DEFAULT '',
	replacement	VARCHAR(100) NOT NULL DEFAULT '',
	method		INTEGER UNSIGNED NOT NULL DEFAULT 0,

	PRIMARY KEY(id)
);
CREATE TABLE k4_posticons (
	id		INTEGER UNSIGNED,
	description	VARCHAR(100) NOT NULL DEFAULT '',
	image		VARCHAR(100) NOT NULL DEFAULT '',

	PRIMARY KEY(id)
);
CREATE TABLE k4_emoticons (
	id 		INTEGER UNSIGNED,
	typed 		VARCHAR(32) NOT NULL DEFAULT '',
	description	VARCHAR(50) NOT NULL DEFAULT '',
	image 		VARCHAR(128) NOT NULL DEFAULT '',
	clickable 	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	
	PRIMARY KEY(id)
);
CREATE TABLE k4_faq_categories (
	id 		INTEGER UNSIGNED,
	name		VARCHAR(255) NOT NULL DEFAULT '',
	
	PRIMARY KEY(id)
);
CREATE TABLE k4_faq (
	id 		INTEGER UNSIGNED,
	parent_id	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	question	VARCHAR(255) NOT NULL DEFAULT '',
	answer		TEXT,
	
	PRIMARY KEY(id)
);
CREATE TABLE k4_styles (
	id		INTEGER UNSIGNED,
	name		VARCHAR(100) NOT NULL DEFAULT '',
	description	VARCHAR(255) NOT NULL DEFAULT '',

	PRIMARY KEY(id)
);
CREATE TABLE k4_css (
	id		INTEGER UNSIGNED,
	style_id	INTEGER UNSIGNED NOT NULL DEFAULT 1,
	name		VARCHAR(100) NOT NULL DEFAULT '',
	properties	TEXT,
	description	VARCHAR(255) NOT NULL DEFAULT '',
	prev_name	VARCHAR(100) NOT NULL DEFAULT '',
	prev_properties TEXT,

	PRIMARY KEY(id)
);
CREATE TABLE k4_badnames (
	id		INTEGER UNSIGNED,
	name		VARCHAR(16) NOT NULL DEFAULT '',
	PRIMARY KEY(id),
	UNIQUE(name)
);
CREATE TABLE k4_ranks (
	id		INTEGER UNSIGNED,
	group_id	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	user_id		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	banned		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	rank		TEXT,
	min_posts	INTEGER UNSIGNED NOT NULL DEFAULT 0,

	PRIMARY KEY(id)
);
CREATE TABLE k4_pmsg_folders (
	id		INTEGER UNSIGNED,
	is_inbox	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	name		VARCHAR(100) NOT NULL DEFAULT '',
	admin_defined	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	user_id		INTEGER UNSIGNED NOT NULL DEFAULT 0,

	PRIMARY KEY(id)	
);
CREATE TABLE k4_pmsgs (
	id		INTEGER UNSIGNED,
	msg_id		INTEGER UNSGINED NOT NULL DEFAULT 0,
	parent_id	INTEGER UNSGINED NOT NULL DEFAULT 0,
	created		INTEGER UNSGINED NOT NULL DEFAULT 0,
	name		VARCHAR(255) NOT NULL DEFAULT '',
	body_text	TEXT,
	icon		VARCHAR(100) NOT NULL DEFAULT 'clear.gif',
	folder_id	INTEGER UNSIGNED NOT NULL DEFAULT 1,
	row_left	INTEGER UNSGINED NOT NULL DEFAULT 0,
	row_right	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	poster_name	VARCHAR(16) NOT NULL DEFAULT '',
	poster_id	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	track_msg	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	member_id	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	member_name	VARCHAR(16) NOT NULL DEFAULT '',
	member_has_read	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	saved		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	queued		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	level		INTEGER UNSIGNED NOT NULL DEFAULT 1,
	new_reply	INTEGER UNSIGNED NOT NULL DEFAULT 0,

	PRIMARY KEY(id)
);
CREATE TABLE k4_pmsg_userlist (
	member_list_id	INTEGER UNSIGNED NOT NULL DEFAULT 0,
	user_id		INTEGER UNSIGNED NOT NULL DEFAULT 0,
	user_name	VARCHAR(16) NOT NULL DEFAULT '',
	user_liked	INTEGER UNSIGNED NOT NULL DEFAULT 0
);